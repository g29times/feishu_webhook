# 网页便签功能测试指南

## 安装/更新插件

1. 打开 Chrome 浏览器，进入 `chrome://extensions/`
2. 确保右上角"开发者模式"已开启
3. 如果之前已安装，点击插件卡片上的"刷新"图标 🔄
4. 如果是首次安装，点击"加载已解压的扩展程序"，选择本项目文件夹

## 功能测试清单

### 1. 基础UI测试
- [ ] 打开任意网页，右侧边缘应出现一个紫色渐变的圆形"笔记"按钮
- [ ] 按钮位置在屏幕右侧垂直居中
- [ ] 鼠标悬停时按钮有放大效果

### 2. 侧边栏展开/收起
- [ ] 点击笔记按钮，从右侧滑出侧边栏（宽度约360px）
- [ ] 侧边栏包含：头部标题、笔记列表区、输入框和按钮
- [ ] 点击遮罩层（页面左侧变暗区域）可关闭侧边栏
- [ ] 点击侧边栏右上角的"×"按钮可关闭
- [ ] 侧边栏打开时，笔记按钮向左移动到侧边栏旁边

### 3. 添加笔记
- [ ] 在输入框输入文字，点击"添加笔记"按钮
- [ ] 笔记成功添加，显示在列表顶部
- [ ] 右上角显示成功提示"✓ 笔记已保存"
- [ ] 输入框自动清空
- [ ] 笔记按钮上出现红色徽章，显示笔记数量
- [ ] 支持 `Ctrl+Enter` 快捷键快速添加

### 4. 笔记列表显示
- [ ] 笔记按时间倒序排列（最新的在上面）
- [ ] 每条笔记显示：内容、时间、发送按钮、删除按钮
- [ ] 时间显示格式：刚刚 / X分钟前 / 今天 HH:MM / 昨天 HH:MM / M月D日
- [ ] 鼠标悬停笔记卡片有阴影和上浮效果

### 5. 发送到飞书
- [ ] 点击笔记卡片上的"发送"图标（纸飞机）
- [ ] 笔记内容通过 Webhook 发送到飞书
- [ ] 显示成功提示"✓ 已发送到飞书"或失败提示

### 6. 删除笔记
- [ ] 点击笔记卡片上的"删除"图标（垃圾桶）
- [ ] 弹出确认对话框
- [ ] 确认后笔记从列表中移除
- [ ] 显示成功提示"✓ 笔记已删除"
- [ ] 徽章数字相应减少

### 7. URL绑定测试
- [ ] 在页面A添加笔记，记录内容
- [ ] 切换到页面B（不同URL），侧边栏应该是空的
- [ ] 在页面B添加不同的笔记
- [ ] 切换回页面A，之前的笔记应该还在
- [ ] 刷新页面，笔记依然存在（持久化）

### 8. 与原有功能兼容性测试
- [ ] 打开侧边栏的同时，在网页上选中一段文字
- [ ] 原有的"划线浮动按钮"应该正常出现在文字上方
- [ ] 点击划线按钮，文字成功发送到飞书
- [ ] 两个功能互不干扰

### 9. 空状态测试
- [ ] 首次访问页面，侧边栏显示"还没有笔记，开始记录吧！"
- [ ] 删除所有笔记后，恢复空状态显示

### 10. 边界情况测试
- [ ] 输入框为空时点击"添加笔记"，不会添加空笔记
- [ ] 输入很长的文字（多行），笔记卡片正常显示，支持换行
- [ ] 添加超过99条笔记，徽章显示"99+"

## 已知限制

1. **URL完全匹配**：笔记绑定到完整URL，包括查询参数和hash。如果URL有动态参数，可能导致笔记分散。
2. **本地存储**：笔记存储在浏览器本地，不同设备/浏览器之间不同步。
3. **无编辑功能**：当前版本不支持编辑已有笔记，只能删除重新添加。

## 问题反馈

如果测试中发现任何问题，请记录：
- 问题描述
- 复现步骤
- 浏览器版本
- 控制台错误信息（按F12查看）
